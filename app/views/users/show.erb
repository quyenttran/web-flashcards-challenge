<div class="user-profile">

  <h2><%= @user.username %></h2>

  <% decks = @user.rounds.map{|round| round.deck}.uniq %>
  <% decks.each do |deck| %>
    <h3><%= deck.name %></h3>
    <table>
      <tr>
        <th>Date</th>
        <th>Cards in Deck</th>
        <th>First Guesses Correct</th>
        <th>Total Guesses</th>
      </tr>

      <% deck.rounds.each do |round| %>
        <% if round.user == @user %>
            <tr>
              <td><%= round.created_at.strftime("%B, %d, %Y") %></td>
              <td><%= deck.cards.count %></td>
              <td><%= round.first_round_corrects %></td>
              <td><%= round.guesses.count %></td>
            </tr>
        <% end %>
    <% end %>
    </table>
  <% end %>
</div>
